#expensesChart,
#revenueChart {
  z-index: 1;
}

.financial-piecharts {
  $piechart-height: 310px;
  $piechart-breakpoint: 550px;

  @mixin piechart-title {
    text-align: center;
  }

  @mixin piechart-label-number {
    // border: 1px dashed white;
    @include rem('font-size', 19px);
    font-weight: bold;
    @include rem('margin-bottom', -5px);
  }
  
  @mixin piechart-label-description {
    // border: 1px dashed white;
    @include rem('font-size', 12px);
    @include rem('letter-spacing', 1px);
    @include rem('margin-bottom', 10px);
    line-height: 1.3;
  }

  

  
  &__container {
  background-color: $color-dusty-red;
  color: white;
  font-family: $font-monserrat;
  text-transform: uppercase;
  }

  &__title {
    @include rem('font-size', 35px);
    font-weight: bold;
    @include rem('letter-spacing', .8px);
    @include rem('margin-bottom', 56px);
    @include piechart-title;
  }

  &--revenue {
    &__container {
      @include rem('padding-bottom', 46px);
    }

    &__piechart__container {
      height: $piechart-height;
      position: absolute;
      width: 100%;
    }

    &__title {
      @include rem('font-size', 18px);
      @include rem('margin-bottom', -3px);
      @include piechart-title;
      font-weight: bold;
    }

    &__total {
      @include rem('font-size', 21px);
      @include rem('margin-bottom', 10px);
      @include piechart-title;
      font-weight: bold;
    }

    &__labels {
      $left-width: 30px;
      @include flexbox;
      height: $piechart-height;

      &--left {
        // border: 1px dashed white;
        @include flexbox;
        @include flex(1 1 calc(50% + #{$left-width}));
        width: calc(50% + #{$left-width});
        z-index: 20;

        &__lines {
          @include flexz(0 0 205px);
          svg {
            height: 100%;
            width: 100%;

            circle {
              display: none;
              fill: rgb(255,255,255);
              stroke:rgb(255,255,255);
              stroke-width: 1;
    
              @media (min-width: $piechart-breakpoint) {
                display: inline;
              }
            }
    
            line {
              display: none;
              stroke:rgb(255,255,255);
              stroke-width:1;
    
              @media (min-width: $piechart-breakpoint) {
                display: inline;
              }
            }
          }
        }

        &__spacer {
          @include flex(1 1 auto);
          width: 50%;
        }

        &__stats {
          @include flexz(0 0 125px);
          @include rem('padding-top', 38px);
          text-align: right;
          &--number {
            @include piechart-label-number;
          }
          &--description {
            @include piechart-label-description;
            @include rem('min-width', 120px);
          }
        }
      }

      &--right {
        @include flexbox;
        @include flex(1 1 calc(50% - #{$left-width}));
        width: calc(50% - #{$left-width});
        z-index: 20;

        &__lines {
          @include flexz(0 0 155px);
          svg {
            height: 100%;
            width: 100%;

            circle {
              display: none;
              fill: rgb(255,255,255);
              stroke:rgb(255,255,255);
              stroke-width: 1;
    
              @media (min-width: $piechart-breakpoint) {
                display: inline;
              }
            }
    
            line {
              display: none;
              stroke:rgb(255,255,255);
              stroke-width:1;
    
              @media (min-width: $piechart-breakpoint) {
                display: inline;
              }
            }
          }
        }

        &__spacer {
          @include flex(1 1 auto);
          width: 50%;
        }

        &__stats {
          @include flexz(0 0 135px);
          @include rem('padding-top', 19px);
          text-align: left;
        &--number {
            @include piechart-label-number;
          }
          &--description {
            @include piechart-label-description;
            @include rem('min-width', 130px);
          }
        }
      }
    }
  }

  &--expenses {
    &__container {
      @include rem('padding-bottom', 60px);
    }

    &__piechart__container {
      height: $piechart-height;
      position: absolute;
      width: 100%;
    }

    &__title {
      @include rem('font-size', 18px);
      @include rem('margin-bottom', -3px);
      @include piechart-title;
      font-weight: bold;
    }

    &__total {
      @include rem('font-size', 21px);
      @include rem('margin-bottom', 10px);
      @include piechart-title;
      font-weight: bold;
    }

    &__labels {
      $left-width: 30px;
      @include flexbox;
      height: $piechart-height;

      &--left {
        // border: 1px dashed white;
        @include flexbox;
        @include flex(1 1 50%);
        width: 50%;
        z-index: 20;

        &__lines {
          // border: 1px dashed white;
          @include flexz(0 0 175px);
          svg {
            height: 100%;
            width: 100%;

            circle {
              display: none;
              fill: rgb(255,255,255);
              stroke:rgb(255,255,255);
              stroke-width: 1;
    
              @media (min-width: $piechart-breakpoint) {
                display: inline;
              }
            }
    
            line {
              display: none;
              stroke:rgb(255,255,255);
              stroke-width:1;
    
              @media (min-width: $piechart-breakpoint) {
                display: inline;
              }
            }
          }
        }

        &__spacer {
          @include flex(1 1 auto);
          width: 50%;
        }

        &__stats {
          @include flexz(0 0 125px);
          @include rem('padding-top', 10px);
          text-align: right;
          &--number {
            @include piechart-label-number;
          }
          &--description {
            @include piechart-label-description;
            @include rem('min-width', 120px);
          }
        }
      }

      &--right {
        @include flexbox;
        @include flex(1 1 50%);
        width: 50%;
        z-index: 20;

        &__lines {
          // border: 1px dashed white;
          @include flexz(0 0 185px);
          svg {
            height: 100%;
            width: 100%;

            circle {
              display: none;
              fill: rgb(255,255,255);
              stroke:rgb(255,255,255);
              stroke-width: 1;
    
              @media (min-width: $piechart-breakpoint) {
                display: inline;
              }
            }
    
            line {
              display: none;
              stroke:rgb(255,255,255);
              stroke-width:1;
    
              @media (min-width: $piechart-breakpoint) {
                display: inline;
              }
            }
          }
        }

        &__spacer {
          @include flex(1 1 auto);
          width: 50%;
        }

        &__stats {
          @include flexz(0 0 135px);
          @include rem('padding-top', 80px);
          text-align: left;
        &--number {
            @include piechart-label-number;
          }
          &--description {
            @include piechart-label-description;
            @include rem('min-width', 130px);
          }
        }
      }
    }
  }
}
